# K3s agent configuration managed by Ansible
node-external-ip: "{{ tailscale_ip }}"
node-ip: "{{ tailscale_ip }}"
vpn-auth: "name=tailscale,joinKey={{ k3s_tailscale_token }}"
server: "https://{{ api_endpoint }}:6443" # Use the full URL from defaults
kubelet-arg:
  - "eviction-hard=nodefs.available<5%,imagefs.available<5%"
  - "eviction-soft=nodefs.available<10%,imagefs.available<10%"
  - "eviction-soft-grace-period=nodefs.available=1m,imagefs.available=1m"
  - "eviction-minimum-reclaim=nodefs.available=1Gi,imagefs.available=1Gi"